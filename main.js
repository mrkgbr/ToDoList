(()=>{"use strict";const t=document.querySelector("body");function e(){return JSON.parse(localStorage.getItem("toDos"))||[]}function n(){document.querySelector(".todo").textContent="",e().forEach(((t,e)=>{new s(e,t.task,t.description,t.date,t.completed)}))}class s{constructor(t,e,n,s,a){this.id=t,this.title=e,this.description=n,this.date=s,this.completed=a,this.#t()}#t(){const t=document.querySelector(".todo"),s=document.createElement("div");s.classList.add("task-container"),s.setAttribute("id",this.id),t.appendChild(s);const a=document.createElement("form");a.classList.add("task-form"),s.appendChild(a);const d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("name","taskTitle"),d.readOnly=!0,d.value=this.title,d.classList.add("task-title"),a.appendChild(d);const i=document.createElement("textarea");i.setAttribute("name","taskDescription"),i.readOnly=!0,i.value=this.description,i.classList.add("task-description"),a.appendChild(i);const c=document.createElement("input");c.setAttribute("type","date"),c.setAttribute("name","taskDate"),c.readOnly=!0,c.value=this.date,c.classList.add("task-date"),a.appendChild(c);const o=document.createElement("input");o.setAttribute("type","submit"),o.value="EDIT",o.classList.add("edit-button"),a.appendChild(o),o.addEventListener("click",(t=>{t.preventDefault(),o.value="SAVE",d.readOnly=!1,d.classList.toggle("edit"),i.readOnly=!1,i.classList.toggle("edit"),c.readOnly=!1,c.classList.toggle("edit"),o.addEventListener("click",(t=>{t.preventDefault(),o.value="EDIT",d.readOnly=!0,d.classList.toggle("edit"),i.readOnly=!0,i.classList.toggle("edit"),c.readOnly=!0,c.classList.toggle("edit");const s=e();s[this.id].task=a.taskTitle.value,s[this.id].description=a.taskDescription.value,s[this.id].date=a.taskDate.value,localStorage.setItem("toDos",JSON.stringify(s)),n()}))}));const l=document.createElement("button");l.textContent="DEL",l.classList.add("delete-button"),a.appendChild(l),l.addEventListener("click",(t=>{t.preventDefault();const s=e();s.splice(this.id,1),document.querySelectorAll(".task-container")[this.id].remove(),localStorage.setItem("toDos",JSON.stringify(s)),n()}))}}!function(){const e=document.createElement("div");e.classList.add("sidebar"),t.appendChild(e);const n=document.createElement("button");n.classList.add("new-button"),n.textContent="Create Task",e.appendChild(n)}(),function(){const e=document.createElement("div");e.classList.add("todo"),t.appendChild(e)}(),function(){const e=document.createElement("div");e.classList.add("form-container"),e.classList.add("hidden"),t.appendChild(e);const n=document.createElement("div");n.classList.add("form-main"),e.appendChild(n);const s=document.createElement("form");s.classList.add("form"),n.appendChild(s);const a=document.createElement("label");a.setAttribute("for","task"),a.textContent="Task Title",s.appendChild(a);const d=document.createElement("input");d.setAttribute("type","text"),d.setAttribute("id","task"),d.setAttribute("name","task"),d.setAttribute("placeholder","e.g. walk the dog"),d.setAttribute("required",""),s.appendChild(d);const i=document.createElement("label");i.setAttribute("for","description"),i.textContent="Description",s.appendChild(i);const c=document.createElement("textarea");c.setAttribute("id","description"),c.setAttribute("name","description"),c.setAttribute("rows","6"),c.setAttribute("maxlength","200"),s.appendChild(c);const o=document.createElement("label");o.setAttribute("for","datum"),o.textContent="Due date",s.appendChild(o);const l=document.createElement("input");l.setAttribute("type","date"),l.setAttribute("id","datum"),l.setAttribute("name","datum"),s.appendChild(l);const r=document.createElement("input");r.setAttribute("type","submit"),r.setAttribute("id","submit"),r.setAttribute("value","Add"),s.appendChild(r);const u=document.createElement("button");u.setAttribute("id","cancel"),u.textContent="Cancel",s.appendChild(u)}(),document.querySelector("#cancel").addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".form-container").classList.toggle("hidden");const e=document.querySelector(".form");e.task.value="",e.description.value="",e.datum.value=""})),document.querySelector("#submit").addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".form-container").classList.toggle("hidden");const s=document.querySelector(".form");!function(t){const n=e(),s={task:t.task.value,description:t.description.value,date:t.datum.value,completed:!1};n.push(s),localStorage.setItem("toDos",JSON.stringify(n))}(s),s.task.value="",s.description.value="",s.datum.value="",n()})),document.querySelector(".new-button").addEventListener("click",(()=>{document.querySelector(".form-container").classList.toggle("hidden")})),n()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUszQixZQUFZaUMsRUFDbkIsQ0FNRUMsR0UxRmUzRCxTQUFTQyxjQUFjLFdBQy9CNkIsaUJBQWlCLFNBQVVDLElBQ2hDQSxFQUFFQyxpQkFDb0JoQyxTQUFTQyxjQUFjLG1CQUUvQnFCLFVBQVVXLE9BQU8sVUFDL0IsTUFBTW1CLEVBQU9wRCxTQUFTQyxjQUFjLFNBRXBDbUQsRUFBS3ZDLEtBQUtlLE1BQVEsR0FDbEJ3QixFQUFLdEMsWUFBWWMsTUFBUSxHQUN6QndCLEVBQUtJLE1BQU01QixNQUFRLEVBQUUsSUFNWDVCLFNBQVNDLGNBQWMsV0FDL0I2QixpQkFBaUIsU0FBVUMsSUFDN0JBLEVBQUVDLGlCQUNvQmhDLFNBQVNDLGNBQWMsbUJBQy9CcUIsVUFBVVcsT0FBTyxVQUMvQixNQUFNbUIsRUFBT3BELFNBQVNDLGNBQWMsVURtRnhDLFNBQWtCbUQsR0FDaEIsTUFBTVEsRUFBUTFELElBQ1IyRCxFQUFPLENBQ1hoRCxLQUFNdUMsRUFBS3ZDLEtBQUtlLE1BQ2hCZCxZQUFhc0MsRUFBS3RDLFlBQVljLE1BQzlCYixLQUFNcUMsRUFBS0ksTUFBTTVCLE1BQ2pCWixXQUFXLEdBR2I0QyxFQUFNRSxLQUFLRCxHQUNYeEQsYUFBYWtDLFFBQVEsUUFBU3BDLEtBQUtxQyxVQUFVb0IsR0FDL0MsQ0M3RklHLENBQVNYLEdBRVRBLEVBQUt2QyxLQUFLZSxNQUFRLEdBQ2xCd0IsRUFBS3RDLFlBQVljLE1BQVEsR0FDekJ3QixFQUFLSSxNQUFNNUIsTUFBUSxHQUNuQnJCLEdBQVEsSUFNS1AsU0FBU0MsY0FBYyxlQUMvQjZCLGlCQUFpQixTQUFTLEtBQ1Q5QixTQUFTQyxjQUFjLG1CQUMvQnFCLFVBQVVXLE9BQU8sU0FBUyxJQ2xDNUMxQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvbW9kdWxlcy91aS5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC8uL3NyYy9tb2R1bGVzL3RvZG8uanMiLCJ3ZWJwYWNrOi8vdG9kb2xpc3QvLi9zcmMvbW9kdWxlcy9idXR0b24tZnVuY3Rpb25zLmpzIiwid2VicGFjazovL3RvZG9saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcblxuLy8gZnVuY3Rpb24gY3JlYXRlSGVhZGVyKCkge1xuLy8gICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuLy8gICBkaXYuY2xhc3NMaXN0LmFkZChcImhlYWRlclwiKTtcbi8vICAgYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuLy8gfVxuXG5mdW5jdGlvbiBjcmVhdGVUb2RvKCkge1xuICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBkaXYuY2xhc3NMaXN0LmFkZChcInRvZG9cIik7XG4gIGJvZHkuYXBwZW5kQ2hpbGQoZGl2KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2lkZWJhcigpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmNsYXNzTGlzdC5hZGQoXCJzaWRlYmFyXCIpO1xuICBib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgY29uc3QgbmV3QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgbmV3QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJuZXctYnV0dG9uXCIpO1xuICBuZXdCdXR0b24udGV4dENvbnRlbnQgPSBcIkNyZWF0ZSBUYXNrXCI7XG4gIGRpdi5hcHBlbmRDaGlsZChuZXdCdXR0b24pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVGb3JtKCkge1xuICAvLyBhZGQgY29udGFpbmVyIGRpdlxuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChcImZvcm0tY29udGFpbmVyXCIpO1xuICBjb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAvLyBhZGQgY29udGFpbmVyIGRpdlxuICBjb25zdCBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbWFpbi5jbGFzc0xpc3QuYWRkKFwiZm9ybS1tYWluXCIpO1xuICAvLyBjb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKG1haW4pO1xuXG4gIC8vIGFkZCBmb3JtXG4gIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZm9ybVwiKTtcbiAgZm9ybS5jbGFzc0xpc3QuYWRkKFwiZm9ybVwiKTtcbiAgbWFpbi5hcHBlbmRDaGlsZChmb3JtKTtcblxuICAvLyBhZGQgdGFzayBuYW1lXG4gIGNvbnN0IHRhc2tMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgdGFza0xhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBcInRhc2tcIik7XG4gIHRhc2tMYWJlbC50ZXh0Q29udGVudCA9IFwiVGFzayBUaXRsZVwiO1xuICBmb3JtLmFwcGVuZENoaWxkKHRhc2tMYWJlbCk7XG4gIGNvbnN0IHRhc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIHRhc2suc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gIHRhc2suc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJ0YXNrXCIpO1xuICB0YXNrLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJ0YXNrXCIpO1xuICB0YXNrLnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiZS5nLiB3YWxrIHRoZSBkb2dcIik7XG4gIHRhc2suc2V0QXR0cmlidXRlKFwicmVxdWlyZWRcIiwgXCJcIik7XG4gIGZvcm0uYXBwZW5kQ2hpbGQodGFzayk7XG5cbiAgLy8gYWRkIGRlc2NyaXB0aW9uXG4gIGNvbnN0IGRlc2NyaXB0aW9uTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gIGRlc2NyaXB0aW9uTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZGVzY3JpcHRpb25cIik7XG4gIGRlc2NyaXB0aW9uTGFiZWwudGV4dENvbnRlbnQgPSBcIkRlc2NyaXB0aW9uXCI7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb25MYWJlbCk7XG4gIGNvbnN0IGRlc2NyaXB0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO1xuICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImRlc2NyaXB0aW9uXCIpO1xuICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwiZGVzY3JpcHRpb25cIik7XG4gIGRlc2NyaXB0aW9uLnNldEF0dHJpYnV0ZShcInJvd3NcIiwgXCI2XCIpO1xuICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoXCJtYXhsZW5ndGhcIiwgXCIyMDBcIik7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuXG4gIC8vIGFkZCBkYXRlXG4gIGNvbnN0IGRhdHVtTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gIGRhdHVtTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIFwiZGF0dW1cIik7XG4gIGRhdHVtTGFiZWwudGV4dENvbnRlbnQgPSBcIkR1ZSBkYXRlXCI7XG4gIGZvcm0uYXBwZW5kQ2hpbGQoZGF0dW1MYWJlbCk7XG4gIGNvbnN0IGRhdHVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICBkYXR1bS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiZGF0ZVwiKTtcbiAgZGF0dW0uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJkYXR1bVwiKTtcbiAgZGF0dW0uc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcImRhdHVtXCIpO1xuICBmb3JtLmFwcGVuZENoaWxkKGRhdHVtKTtcbiAgLy8gYWRkIGJ1dHRvblxuICBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gIGFkZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwic3VibWl0XCIpO1xuICBhZGRCdXR0b24uc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJzdWJtaXRcIik7XG4gIGFkZEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLCBcIkFkZFwiKTtcbiAgZm9ybS5hcHBlbmRDaGlsZChhZGRCdXR0b24pO1xuICAvLyBjYW5jZWwgYnV0dG9uXG4gIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gIGNhbmNlbEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImNhbmNlbFwiKTtcbiAgY2FuY2VsQnV0dG9uLnRleHRDb250ZW50ID0gXCJDYW5jZWxcIjtcbiAgZm9ybS5hcHBlbmRDaGlsZChjYW5jZWxCdXR0b24pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmUoKSB7XG4gIGNyZWF0ZVNpZGViYXIoKTtcbiAgLy8gY3JlYXRlSGVhZGVyKCk7XG4gIGNyZWF0ZVRvZG8oKTtcbiAgY3JlYXRlRm9ybSgpO1xufVxuIiwiZnVuY3Rpb24gcGFyc2VMb2NhbFN0b3JhZ2UoKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9Eb3NcIikpIHx8IFtdO1xufVxuXG5mdW5jdGlvbiByZW5kZXIoKSB7XG4gIGNvbnN0IGluYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvXCIpO1xuICBpbmJveC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGNvbnN0IHRvRG9zID0gcGFyc2VMb2NhbFN0b3JhZ2UoKTtcbiAgdG9Eb3MuZm9yRWFjaCgoaXRlbSwgaWQpID0+IHtcbiAgICAoKCkgPT5cbiAgICAgIG5ldyBUYXNrKGlkLCBpdGVtLnRhc2ssIGl0ZW0uZGVzY3JpcHRpb24sIGl0ZW0uZGF0ZSwgaXRlbS5jb21wbGV0ZWQpKSgpO1xuICB9KTtcbn1cblxuY2xhc3MgVGFzayB7XG4gIGNvbnN0cnVjdG9yKGlkLCB0aXRsZSwgZGVzY3JpcHRpb24sIGRhdGUsIGNvbXBsZXRlZCkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLnRpdGxlID0gdGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgdGhpcy5jb21wbGV0ZWQgPSBjb21wbGV0ZWQ7XG4gICAgdGhpcy4jY3JlYXRlKCk7XG4gIH1cblxuICAjY3JlYXRlKCkge1xuICAgIGNvbnN0IGluYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50b2RvXCIpO1xuXG4gICAgY29uc3QgdGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGFzay5jbGFzc0xpc3QuYWRkKFwidGFzay1jb250YWluZXJcIik7XG4gICAgdGFzay5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLmlkKTtcbiAgICBpbmJveC5hcHBlbmRDaGlsZCh0YXNrKTtcblxuICAgIGNvbnN0IHRhc2tGb3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7XG4gICAgdGFza0Zvcm0uY2xhc3NMaXN0LmFkZChcInRhc2stZm9ybVwiKTtcbiAgICB0YXNrLmFwcGVuZENoaWxkKHRhc2tGb3JtKTtcblxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgIHRpdGxlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgIHRpdGxlLnNldEF0dHJpYnV0ZShcIm5hbWVcIiwgXCJ0YXNrVGl0bGVcIik7XG4gICAgdGl0bGUucmVhZE9ubHkgPSB0cnVlO1xuICAgIHRpdGxlLnZhbHVlID0gdGhpcy50aXRsZTtcbiAgICB0aXRsZS5jbGFzc0xpc3QuYWRkKFwidGFzay10aXRsZVwiKTtcbiAgICB0YXNrRm9ybS5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cbiAgICBjb25zdCBkZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTtcbiAgICBkZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoXCJuYW1lXCIsIFwidGFza0Rlc2NyaXB0aW9uXCIpO1xuICAgIGRlc2NyaXB0aW9uLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICBkZXNjcmlwdGlvbi52YWx1ZSA9IHRoaXMuZGVzY3JpcHRpb247XG4gICAgZGVzY3JpcHRpb24uY2xhc3NMaXN0LmFkZChcInRhc2stZGVzY3JpcHRpb25cIik7XG4gICAgdGFza0Zvcm0uYXBwZW5kQ2hpbGQoZGVzY3JpcHRpb24pO1xuXG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBkYXRlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJkYXRlXCIpO1xuICAgIGRhdGUuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInRhc2tEYXRlXCIpO1xuICAgIGRhdGUucmVhZE9ubHkgPSB0cnVlO1xuICAgIGRhdGUudmFsdWUgPSB0aGlzLmRhdGU7XG4gICAgZGF0ZS5jbGFzc0xpc3QuYWRkKFwidGFzay1kYXRlXCIpO1xuICAgIHRhc2tGb3JtLmFwcGVuZENoaWxkKGRhdGUpO1xuXG4gICAgY29uc3QgZWRpdEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBlZGl0QnRuLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJzdWJtaXRcIik7XG4gICAgZWRpdEJ0bi52YWx1ZSA9IFwiRURJVFwiO1xuICAgIGVkaXRCdG4uY2xhc3NMaXN0LmFkZChcImVkaXQtYnV0dG9uXCIpO1xuICAgIHRhc2tGb3JtLmFwcGVuZENoaWxkKGVkaXRCdG4pO1xuXG4gICAgZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGVkaXRCdG4udmFsdWUgPSBcIlNBVkVcIjtcbiAgICAgIHRpdGxlLnJlYWRPbmx5ID0gZmFsc2U7XG4gICAgICB0aXRsZS5jbGFzc0xpc3QudG9nZ2xlKFwiZWRpdFwiKTtcbiAgICAgIGRlc2NyaXB0aW9uLnJlYWRPbmx5ID0gZmFsc2U7XG4gICAgICBkZXNjcmlwdGlvbi5jbGFzc0xpc3QudG9nZ2xlKFwiZWRpdFwiKTtcbiAgICAgIGRhdGUucmVhZE9ubHkgPSBmYWxzZTtcbiAgICAgIGRhdGUuY2xhc3NMaXN0LnRvZ2dsZShcImVkaXRcIik7XG4gICAgICBlZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgZWRpdEJ0bi52YWx1ZSA9IFwiRURJVFwiO1xuICAgICAgICB0aXRsZS5yZWFkT25seSA9IHRydWU7XG4gICAgICAgIHRpdGxlLmNsYXNzTGlzdC50b2dnbGUoXCJlZGl0XCIpO1xuICAgICAgICBkZXNjcmlwdGlvbi5yZWFkT25seSA9IHRydWU7XG4gICAgICAgIGRlc2NyaXB0aW9uLmNsYXNzTGlzdC50b2dnbGUoXCJlZGl0XCIpO1xuICAgICAgICBkYXRlLnJlYWRPbmx5ID0gdHJ1ZTtcbiAgICAgICAgZGF0ZS5jbGFzc0xpc3QudG9nZ2xlKFwiZWRpdFwiKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHBhcnNlTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIGRhdGFbdGhpcy5pZF0udGFzayA9IHRhc2tGb3JtLnRhc2tUaXRsZS52YWx1ZTtcbiAgICAgICAgZGF0YVt0aGlzLmlkXS5kZXNjcmlwdGlvbiA9IHRhc2tGb3JtLnRhc2tEZXNjcmlwdGlvbi52YWx1ZTtcbiAgICAgICAgZGF0YVt0aGlzLmlkXS5kYXRlID0gdGFza0Zvcm0udGFza0RhdGUudmFsdWU7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidG9Eb3NcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICByZW5kZXIoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICBkZWxldGVCdG4udGV4dENvbnRlbnQgPSBcIkRFTFwiO1xuICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVsZXRlLWJ1dHRvblwiKTtcbiAgICB0YXNrRm9ybS5hcHBlbmRDaGlsZChkZWxldGVCdG4pO1xuXG4gICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZGVsKSA9PiB7XG4gICAgICBkZWwucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGNvbnN0IGRhdGEgPSBwYXJzZUxvY2FsU3RvcmFnZSgpO1xuICAgICAgZGF0YS5zcGxpY2UodGhpcy5pZCwgMSk7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhc2stY29udGFpbmVyXCIpW3RoaXMuaWRdLnJlbW92ZSgpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b0Rvc1wiLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICByZW5kZXIoKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzYXZlVG9Ebyhmb3JtKSB7XG4gIGNvbnN0IHRvRG9zID0gcGFyc2VMb2NhbFN0b3JhZ2UoKTtcbiAgY29uc3QgdG9EbyA9IHtcbiAgICB0YXNrOiBmb3JtLnRhc2sudmFsdWUsXG4gICAgZGVzY3JpcHRpb246IGZvcm0uZGVzY3JpcHRpb24udmFsdWUsXG4gICAgZGF0ZTogZm9ybS5kYXR1bS52YWx1ZSxcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICB9O1xuICAvLyBjb25zb2xlLmxvZyh0b0RvKTtcbiAgdG9Eb3MucHVzaCh0b0RvKTtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b0Rvc1wiLCBKU09OLnN0cmluZ2lmeSh0b0RvcykpO1xufVxuXG5leHBvcnQgeyBzYXZlVG9EbywgVGFzaywgcmVuZGVyIH07XG4iLCJpbXBvcnQgeyBzYXZlVG9EbywgcmVuZGVyIH0gZnJvbSBcIi4vdG9kb1wiO1xuXG4vLyBmdW5jdGlvbiBmb3IgY2FuY2VsIGJ1dHRvblxuZnVuY3Rpb24gY2FuY2VsQnV0dG9uKCkge1xuICBjb25zdCBjYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhbmNlbFwiKTtcbiAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBmb3JtQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWNvbnRhaW5lclwiKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcImRvbmVcIik7XG4gICAgZm9ybUNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFwiaGlkZGVuXCIpO1xuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XG4gICAgLy8gc2V0IHZhbHVlcyB0byBkZWZhdWx0XG4gICAgZm9ybS50YXNrLnZhbHVlID0gXCJcIjtcbiAgICBmb3JtLmRlc2NyaXB0aW9uLnZhbHVlID0gXCJcIjtcbiAgICBmb3JtLmRhdHVtLnZhbHVlID0gXCJcIjtcbiAgfSk7XG59XG5cbi8vIGZ1bmN0aW9uIGZvciBhZGQgYnV0dG9uXG5mdW5jdGlvbiBhZGRCdXR0b24oKSB7XG4gIGNvbnN0IGFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3VibWl0XCIpO1xuICBhZGQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tY29udGFpbmVyXCIpO1xuICAgIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xuICAgIHNhdmVUb0RvKGZvcm0pO1xuICAgIC8vIHNldCB2YWx1ZXMgdG8gZGVmYXVsdFxuICAgIGZvcm0udGFzay52YWx1ZSA9IFwiXCI7XG4gICAgZm9ybS5kZXNjcmlwdGlvbi52YWx1ZSA9IFwiXCI7XG4gICAgZm9ybS5kYXR1bS52YWx1ZSA9IFwiXCI7XG4gICAgcmVuZGVyKCk7XG4gIH0pO1xufVxuXG4vLyBmdW5jdGlvbiBmb3IgbmV3IGJ1dHRvblxuZnVuY3Rpb24gbmV3QnV0dG9uKCkge1xuICBjb25zdCBuZXdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy1idXR0b25cIik7XG4gIG5ld0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGNvbnN0IGZvcm1Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tY29udGFpbmVyXCIpO1xuICAgIGZvcm1Db250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZShcImhpZGRlblwiKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1dHRvbkZ1bmN0aW9ucygpIHtcbiAgY2FuY2VsQnV0dG9uKCk7XG4gIGFkZEJ1dHRvbigpO1xuICBuZXdCdXR0b24oKTtcbn1cbiIsImltcG9ydCBjcmVhdGVTdHJ1Y3R1cmUgZnJvbSBcIi4vbW9kdWxlcy91aVwiO1xuaW1wb3J0IGJ1dHRvbkZ1bmN0aW9ucyBmcm9tIFwiLi9tb2R1bGVzL2J1dHRvbi1mdW5jdGlvbnNcIjtcbmltcG9ydCB7IHJlbmRlciB9IGZyb20gXCIuL21vZHVsZXMvdG9kb1wiO1xuXG5jcmVhdGVTdHJ1Y3R1cmUoKTtcbmJ1dHRvbkZ1bmN0aW9ucygpO1xucmVuZGVyKCk7XG4iXSwibmFtZXMiOlsiYm9keSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInBhcnNlTG9jYWxTdG9yYWdlIiwiSlNPTiIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInJlbmRlciIsInRleHRDb250ZW50IiwiZm9yRWFjaCIsIml0ZW0iLCJpZCIsIlRhc2siLCJ0YXNrIiwiZGVzY3JpcHRpb24iLCJkYXRlIiwiY29tcGxldGVkIiwiY29uc3RydWN0b3IiLCJ0aXRsZSIsInRoaXMiLCJpbmJveCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJhcHBlbmRDaGlsZCIsInRhc2tGb3JtIiwicmVhZE9ubHkiLCJ2YWx1ZSIsImVkaXRCdG4iLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlIiwiZXZlbnQiLCJkYXRhIiwidGFza1RpdGxlIiwidGFza0Rlc2NyaXB0aW9uIiwidGFza0RhdGUiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZGVsZXRlQnRuIiwiZGVsIiwic3BsaWNlIiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZSIsImRpdiIsIm5ld0J1dHRvbiIsImNyZWF0ZVNpZGViYXIiLCJjcmVhdGVUb2RvIiwiY29udGFpbmVyIiwibWFpbiIsImZvcm0iLCJ0YXNrTGFiZWwiLCJkZXNjcmlwdGlvbkxhYmVsIiwiZGF0dW1MYWJlbCIsImRhdHVtIiwiYWRkQnV0dG9uIiwiY2FuY2VsQnV0dG9uIiwiY3JlYXRlRm9ybSIsInRvRG9zIiwidG9EbyIsInB1c2giLCJzYXZlVG9EbyJdLCJzb3VyY2VSb290IjoiIn0=